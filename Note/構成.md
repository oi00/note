# 構成
## Presentation
### View
表示を担当する。表示内容はViewModelをバインドする。
### ViewModel
ViewとApplicationでの表示内容の受け渡しを担当する。  
プロパティは基本型(string,decimal...)とする。  
Applicationから受け取ったModelを表示可能な形式に変換する  
Viewから受け取った内容をModelへ変換する(toModel)
## Application
Presentation層とInfrastructure層の境界  
タスクの調整を担当する  
判断や編集はDomainに任せる  

### Service
ModelとApplication層のクラスのみで実装する(PresentationやInfrastructure層の呼び出しは禁止)  
クラス名は動詞単位で作成(例、SearchPosition、RegistCustomerなど)  
Service内での別Serviceクラスの使用は可
#### Query
戻り値の型の単位で複数メソッドを実装して良い
#### Command
1アクション１クラス
### Repository
リソースへの操作を抽象化したインターフェース  
具象クラスはInfrastructure層で実施  
RepositoryをDIして良いのはServiceクラスのみ
### Batch
### Library
## Domain
ビジネスロジックの実装を担当する
副作用のある実装は禁止
- データ入出力から完全に独立させる
- RepositoryはDIだけでなく、引数として使用するのも禁止
- ModelはRepositoryの結果を用いてロジックを組み立てる
### Part
基本型となるドメインオブジェクト(金額などの値オブジェクト)
### Model
状態を持ったクラスとして実装する  
|ドメイン・レイヤの要素|状態/振舞い|
| ---- | ---- |
|Entity, Value Object, Aggregate|状態と振舞い|
|Data Transfer Object|状態のみ|
|Service, Repository|振舞いのみ|

ビジネスロジックを実装したドメインオブジェクト  
Modelを介してInfrastructureへ情報を伝えて処理(更新)を行う
### Component
情報参照の戻り値となる方の単位で作成する
プロパティを基本型としたDTO
永続化層の戻り値DTOとして、そのまま使用しても良い
### Rule
状態を持たない関数として実装する  
複数Ｍodelを組み合わせて表現されるビジネスルールを扱う  
複数のModelを扱うにあたって、どちらのModelにロジックを配置するのか悩ましいときの解決方法
## Infrastructure
データ永続化など技術的に解決すべきことが主な関心事  
DIPを用いることでModelをPOJOで実装できるようにする  
!! Infrastructure層のクラスを直接使用するのは禁止
### DataStore
DBアクセスへの操作を行う。
ファイルシステムへのアクセスを行う場合は、同階層に別で作成する。


[参照元1](https://vermeer.hatenablog.jp/entry/2022/01/10/230315)
[参照元2](https://www.infoq.com/jp/articles/ddd-in-practice/)